<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>glimpse.impl.default.layout documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Glimpse</span> <span class="project-version">0.1.0</span></span></a></h1></div><div class="sidebar primary"><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>glimpse</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>impl</span></div></div></li><li class="depth-3"><a href="glimpse.impl.default.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>default</span></div></a></li><li class="depth-4 branch"><a href="glimpse.impl.default.bindings.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bindings</span></div></a></li><li class="depth-4 branch"><a href="glimpse.impl.default.io.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>io</span></div></a></li><li class="depth-4 current"><a href="glimpse.impl.default.layout.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>layout</span></div></a></li><li class="depth-3 branch"><a href="glimpse.impl.enlive-helpers.html"><div class="inner"><span class="tree" style="top: -114px;"><span class="top" style="height: 123px;"></span><span class="bottom"></span></span><span>enlive-helpers</span></div></a></li><li class="depth-3"><a href="glimpse.impl.protocols.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>protocols</span></div></a></li><li class="depth-2 branch"><a href="glimpse.middleware.html"><div class="inner"><span class="tree" style="top: -207px;"><span class="top" style="height: 216px;"></span><span class="bottom"></span></span><span>middleware</span></div></a></li><li class="depth-2"><a href="glimpse.views.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>views</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-construct-view"><div class="inner"><span>construct-view</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-container-element-node"><div class="inner"><span>container-element-node</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-container-name"><div class="inner"><span>container-name</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-container-node"><div class="inner"><span>container-node</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-create-container-elements"><div class="inner"><span>create-container-elements</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-find-template-name"><div class="inner"><span>find-template-name</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-ILoader"><div class="inner"><span>ILoader</span></div></a></li><li class="depth-2 branch"><a href="glimpse.impl.default.layout.html#var-load-page"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>load-page</span></div></a></li><li class="depth-2 branch"><a href="glimpse.impl.default.layout.html#var-load-partial"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>load-partial</span></div></a></li><li class="depth-2"><a href="glimpse.impl.default.layout.html#var-load-template"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>load-template</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-include-all"><div class="inner"><span>include-all</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-include-name"><div class="inner"><span>include-name</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-include-node"><div class="inner"><span>include-node</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-mark-scopes-as-unbound"><div class="inner"><span>mark-scopes-as-unbound</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-move-within-containers"><div class="inner"><span>move-within-containers</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-template-name"><div class="inner"><span>template-name</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-template-node"><div class="inner"><span>template-node</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-within-ending-node"><div class="inner"><span>within-ending-node</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-within-fragment-selector"><div class="inner"><span>within-fragment-selector</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-within-name"><div class="inner"><span>within-name</span></div></a></li><li class="depth-1"><a href="glimpse.impl.default.layout.html#var-within-starting-node"><div class="inner"><span>within-starting-node</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">glimpse.impl.default.layout</h1><div class="doc"><pre class="plaintext">Functions for manipulating Enlive templates using layout directives.
</pre></div><div class="public anchor" id="var-construct-view"><h3>construct-view</h3><div class="usage"><code>(construct-view uri loader)</code></div><div class="doc"><pre class="plaintext">Constructs a complete view given a request uri and loader.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L141">view source</a></div></div><div class="public anchor" id="var-container-element-node"><h3>container-element-node</h3><div class="usage"><code>(container-element-node)</code><code>(container-element-node container-name)</code></div><div class="doc"><pre class="plaintext">Selector predicate, matches container elements.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L55">view source</a></div></div><div class="public anchor" id="var-container-name"><h3>container-name</h3><div class="usage"><code>(container-name s)</code></div><div class="doc"><pre class="plaintext">Finds the container name from the string.

Returns :default if the string is a container directive with no name.  Returns
nil if not found.</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L42">view source</a></div></div><div class="public anchor" id="var-container-node"><h3>container-node</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Selector predicate, matches valid @container directives.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L51">view source</a></div></div><div class="public anchor" id="var-create-container-elements"><h3>create-container-elements</h3><div class="usage"><code>(create-container-elements nodes)</code></div><div class="doc"><pre class="plaintext">Transforms container directives into element nodes.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L63">view source</a></div></div><div class="public anchor" id="var-find-template-name"><h3>find-template-name</h3><div class="usage"><code>(find-template-name nodes)</code></div><div class="doc"><pre class="plaintext">Finds the template name in the collection of nodes.

Returns a default value if no template name is found.  Throws an exception if
more than one template name is found.</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L30">view source</a></div></div><div class="public anchor" id="var-ILoader"><h3>ILoader</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Represents an entity that can load Enlive nodes given a request uri and a
name.</pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-load-page"><h3>load-page</h3><div class="usage"><code>(load-page this uri)</code></div><div class="doc"><pre class="plaintext">Loads a page fragment based on the request uri and an optional name.
</pre></div></div><div class="public anchor" id="var-load-partial"><h3>load-partial</h3><div class="usage"><code>(load-partial this uri name)</code></div><div class="doc"><pre class="plaintext">Loads a partial fragment based on the request uri and name.
</pre></div></div><div class="public anchor" id="var-load-template"><h3>load-template</h3><div class="usage"><code>(load-template this uri name)</code></div><div class="doc"><pre class="plaintext">Loads an entire document based on the request uri and provided name.
</pre></div></div></div></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L8">view source</a></div></div><div class="public anchor" id="var-include-all"><h3>include-all</h3><div class="usage"><code>(include-all nodes loader uri)</code><code>(include-all nodes loader uri max-depth)</code></div><div class="doc"><pre class="plaintext">Replaces @include directives with appropriate content fetched via the
specified loader.  Subject to a max-depth, which defaults to 10.</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L121">view source</a></div></div><div class="public anchor" id="var-include-name"><h3>include-name</h3><div class="usage"><code>(include-name s)</code></div><div class="doc"><pre class="plaintext">Finds the include name in the string.

Returns nil if not found.</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L108">view source</a></div></div><div class="public anchor" id="var-include-node"><h3>include-node</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Selector predicate, matches nodes that contain an include directive.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L117">view source</a></div></div><div class="public anchor" id="var-mark-scopes-as-unbound"><h3>mark-scopes-as-unbound</h3><div class="usage"><code>(mark-scopes-as-unbound nodes)</code></div><div class="doc"><pre class="plaintext">Adds a data-glimpse-unbound attribute to all scope nodes.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L135">view source</a></div></div><div class="public anchor" id="var-move-within-containers"><h3>move-within-containers</h3><div class="usage"><code>(move-within-containers nodes)</code></div><div class="doc"><pre class="plaintext">Finds within fragments within nodes, removes them, and places their content
within the specified containers.</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L93">view source</a></div></div><div class="public anchor" id="var-template-name"><h3>template-name</h3><div class="usage"><code>(template-name s)</code></div><div class="doc"><pre class="plaintext">Finds the template name from the string. Returns nil if not found.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L20">view source</a></div></div><div class="public anchor" id="var-template-node"><h3>template-node</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Selector predicate, matches valid template directives.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L26">view source</a></div></div><div class="public anchor" id="var-within-ending-node"><h3>within-ending-node</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Selector predicate, matches nodes that end a within directive fragment.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L85">view source</a></div></div><div class="public anchor" id="var-within-fragment-selector"><h3>within-fragment-selector</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Fragment selector for within directives.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L89">view source</a></div></div><div class="public anchor" id="var-within-name"><h3>within-name</h3><div class="usage"><code>(within-name s)</code></div><div class="doc"><pre class="plaintext">Finds the container name from the string.

Returns nil if not found.</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L72">view source</a></div></div><div class="public anchor" id="var-within-starting-node"><h3>within-starting-node</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Selector predicate, matches nodes that start a within directive fragment.
</pre></div><div class="src-link"><a href="https://github.com/tessellator/glimpse/blob/master/src/glimpse/impl/default/layout.clj#L81">view source</a></div></div></div></body></html>